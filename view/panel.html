<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Yönetim Paneli - Asya Sera</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

    <div class="sidebar">
        <h2>ASYA SERA KDS</h2>
        <a href="#" onclick="sayfaGoster('dashboard')" class="menu-link active" id="link-dashboard"><i class="fas fa-home"></i> ANA PANEL</a>
        <a href="#" onclick="sayfaGoster('uretim')" class="menu-link" id="link-uretim"><i class="fas fa-seedling"></i> Üretim Planlama</a>
        <a href="#" onclick="sayfaGoster('analiz')" class="menu-link" id="link-analiz"><i class="fas fa-chart-pie"></i> Karar Analizleri</a>
        <a href="#" onclick="sayfaGoster('depo')" class="menu-link" id="link-depo"><i class="fas fa-warehouse"></i> Depo</a>
        <a href="/" style="margin-top: auto; background: #c62828;"><i class="fas fa-sign-out-alt"></i> Çıkış Yap</a>
    </div>

    <div class="main-content">
        
        <div id="sayfa-dashboard" class="sayfa">
            <div class="header">
                <h1>ANA PANEL</h1>
                <p>2026 Stratejik Karar Destek Ekranı</p>
            </div>

            <div class="info-card">
                <h3><i class="fas fa-chart-bar"></i> Tüm Ürünlerin Karlılık Analizi (m² Bazlı)</h3>
                <div style="height: 350px; position: relative;">
                    <canvas id="karGrafigi"></canvas>
                </div>
            </div>
             
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
    
    <div class="info-card">
        <h3><i class="fas fa-chart-pie"></i> Operasyonel Gider Dağılımı</h3>
        <p style="font-size:12px; color:#666;">Toplam maliyetin kalemlere göre oransal dağılımı.</p>
        <div style="height: 300px; position: relative;">
            <canvas id="maliyetPastasi"></canvas>
        </div>
    </div>

    <div class="info-card">
        <h3><i class="fas fa-chart-line"></i> Yıllık Büyüme Trendi</h3>
        <p style="font-size:12px; color:#666;">Son 3 yılın ciro karşılaştırması.</p>
        <div style="height: 300px; position: relative; display:flex; align-items:center; justify-content:center; color:#ccc;">
            <canvas id="trendGrafigi"></canvas> 
        </div>
    </div>

    <div class="info-card" style="margin-top: 20px; border-top: 5px solid #673ab7;">
    <h3><i class="fas fa-history"></i> Ürün Performans Karşılaştırması (2022-2025)</h3>
    <p style="font-size:12px; color:#666;">İki farklı ürünün geçmiş yıllardaki net kar performansını grafik üzerinde kıyaslayın.</p>
    
    <div style="background:#f5f5f5; padding:15px; border-radius:8px; display:flex; gap:15px; align-items:flex-end; margin-bottom:15px;">
        
        <div style="flex:1;">
            <label style="font-weight:bold; color:#673ab7;">1. Ürün (Mor Çizgi):</label>
            <select id="duello-urun-1" style="width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; margin-top:5px;">
                </select>
        </div>

        <div style="display:flex; padding-bottom:10px; color:#999; font-size:20px;">
            <i class="fas fa-times"></i> 
        </div>

        <div style="flex:1;">
            <label style="font-weight:bold; color:#2196f3;">2. Ürün (Mavi Çizgi):</label>
            <select id="duello-urun-2" style="width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; margin-top:5px;">
                </select>
        </div>

        <button onclick="analizGecmisKarsilastir()" style="padding:10px 20px; background:#673ab7; color:white; border:none; border-radius:4px; font-weight:bold; cursor:pointer; height:40px;">
            KIYASLA <i class="fas fa-chart-line"></i>
        </button>
    </div>

    <div style="height: 350px; position: relative;">
        <canvas id="duelloGrafigi"></canvas>
    </div>
</div>

<div class="info-card" style="margin-top: 20px; border-top: 5px solid #ff9800;">
    <h3><i class="fas fa-wallet"></i> Detaylı Maliyet Düellosu (Gider Analizi)</h3>
    <p style="font-size:12px; color:#666;">İki ürünün üretim maliyetlerini (Gübre, İşçilik, Enerji) kalem kalem kıyaslayın.</p>
    
    <div style="background:#fff3e0; padding:15px; border-radius:8px; display:flex; gap:15px; align-items:flex-end; margin-bottom:15px;">
        
        <div style="flex:1;">
            <label style="font-weight:bold; color:#e65100;">1. Ürün:</label>
            <select id="maliyet-urun-1" style="width:100%; padding:8px; border:1px solid #ffcc80; border-radius:4px; margin-top:5px;">
                </select>
        </div>

        <div style="display:flex; padding-bottom:10px; color:#ffb74d; font-size:20px;">
            <i class="fas fa-balance-scale"></i>
        </div>

        <div style="flex:1;">
            <label style="font-weight:bold; color:#e65100;">2. Ürün:</label>
            <select id="maliyet-urun-2" style="width:100%; padding:8px; border:1px solid #ffcc80; border-radius:4px; margin-top:5px;">
                </select>
        </div>

        <button onclick="analizMaliyetKiyasla()" style="padding:10px 20px; background:#ff9800; color:white; border:none; border-radius:4px; font-weight:bold; cursor:pointer; height:40px;">
            GİDERLERİ KIYASLA <i class="fas fa-search-dollar"></i>
        </button>
    </div>

    <div style="height: 350px; position: relative;">
        <canvas id="maliyetGrafigi"></canvas>
    </div>
</div>

<div class="info-card" style="margin-top: 20px; border-top: 5px solid #009688;">
    <h3><i class="fas fa-torii-gate"></i> Sera Verimlilik Kapışması (Ciro/m²)</h3>
    <p style="font-size:12px; color:#666;">İki seranın metrekare başına ürettiği yıllık ciro potansiyelini kıyaslayın.</p>
    
    <div style="background:#e0f2f1; padding:15px; border-radius:8px; display:flex; gap:15px; align-items:flex-end; margin-bottom:15px;">
        
        <div style="flex:1;">
            <label style="font-weight:bold; color:#00695c;">1. Sera:</label>
            <select id="sera-duello-1" style="width:100%; padding:8px; border:1px solid #b2dfdb; border-radius:4px; margin-top:5px;">
                </select>
        </div>

        <div style="display:flex; padding-bottom:10px; color:#4db6ac; font-size:20px;">
            <i class="fas fa-bolt"></i>
        </div>

        <div style="flex:1;">
            <label style="font-weight:bold; color:#00695c;">2. Sera:</label>
            <select id="sera-duello-2" style="width:100%; padding:8px; border:1px solid #b2dfdb; border-radius:4px; margin-top:5px;">
                </select>
        </div>

        <button onclick="analizSeraKarsilastir()" style="padding:10px 20px; background:#009688; color:white; border:none; border-radius:4px; font-weight:bold; cursor:pointer; height:40px;">
            KAPIŞTIR <i class="fas fa-fist-raised"></i>
        </button>
    </div>

    <div style="height: 350px; position: relative;">
        <canvas id="seraKarsilastirmaGrafigi"></canvas>
    </div>
</div>
    
</div>

        </div>

        <div id="sayfa-uretim" class="sayfa" style="display: none;">
            <div class="header">
                <h1>Üretim Planlama & Raporlar</h1>
                <p>Geçmiş dönem analizleri ve bütçe dağılımı.</p>
            </div>

            <div class="filter-bar">
                <span><i class="fas fa-filter"></i> Dönem Seçiniz:</span>
                <div class="filter-buttons">
                    <button onclick="yilFiltrele('tumu')" class="btn-filter active" id="btn-tumu">Tümü</button>
                    <button onclick="yilFiltrele(2022)" class="btn-filter" id="btn-2022">2022</button>
                    <button onclick="yilFiltrele(2023)" class="btn-filter" id="btn-2023">2023</button>
                    <button onclick="yilFiltrele(2024)" class="btn-filter" id="btn-2024">2024</button>
                    <button onclick="yilFiltrele(2025)" class="btn-filter" id="btn-2025">2025 (Mevcut)</button>
                </div>
            </div>

            <div class="stats-row">
                <div class="stat-card blue-card">
                    <div class="stat-info">
                        <h4>TOPLAM ÜRETİM GİDERİ</h4>
                        <p id="toplam-gider">₺0</p>
                    </div>
                    <div class="stat-icon"><i class="fas fa-wallet"></i></div>
                </div>
                
                <div class="stat-card green-card">
                    <div class="stat-info">
                        <h4>TOPLAM TAHMİNİ GELİR</h4>
                        <p id="toplam-gelir">₺0</p>
                    </div>
                    <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                </div>
            </div>

            <div class="info-card">
                <h3><i class="fas fa-chart-column"></i> Sera Bütçe Dağılımı (Gider vs Gelir)</h3>
                <div style="height: 300px; position: relative;">
                    <canvas id="butceGrafigi"></canvas>
                </div>
            </div>

            <br>

            <div class="info-card">
                <h3><i class="fas fa-clipboard-list"></i> Detaylı Üretim Raporu</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Sera</th>
                            <th>Ürün</th>
                            <th>Yıl</th>
                            <th>Gider</th>
                            <th>Gelir</th>
                            <th>Durum</th>
                        </tr>
                    </thead>
                    <tbody id="uretim-rapor-tablo">
                        </tbody>
                </table>
            </div>
        </div>

        <div id="sayfa-analiz" class="sayfa" style="display: none;">
            <div class="header">
                <h1>Stratejik Karar Destek Merkezi</h1>
                <p>Geleceğe yönelik yatırım, üretim ve risk simülasyonları.</p>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">

                <div class="info-card" style="border-top: 5px solid #ff9800;">
                    <h3><i class="fas fa-bed"></i> Nadas vs. Üretim Kararı</h3>
                    <p style="font-size:13px; color:#666;">Toprağı dinlendirmenin verime etkisi.</p>
                    <div style="margin: 15px 0;">
                        <label>Analiz Edilecek Sera:</label>
                        <select id="nadas-sera-secimi" style="width:100%; padding:8px; margin-top:5px;"></select>
                        <br><br>
                        <label>Ürün:</label>
                        <select id="nadas-urun-secimi" style="width:100%; padding:8px; margin-top:5px;"></select>
                    </div>
                    <button onclick="analizNadas()" style="width:100%; padding:10px; background:#ff9800; color:white; border:none; cursor:pointer; font-weight:bold; border-radius:4px;">SİMÜLASYONU ÇALIŞTIR</button>
                    <div id="nadas-sonuc" style="margin-top:15px; padding:10px; background:#fff3e0; border-left:4px solid #ff9800; display:none; font-size:14px;"></div>
                </div>

                <div class="info-card" style="border-top: 5px solid #2196f3;">
                    <h3><i class="fas fa-plus-circle"></i> Yeni Sera Yatırım Robotu</h3>
                    <p style="font-size:13px; color:#666;">Yeni yatırım kendini amorti eder mi?</p>
                    <div style="margin: 15px 0;">
                        <label>Sera Tipi:</label>
                        <select id="yatirim-tipi" style="width:100%; padding:8px; margin-top:5px;">
                            <option value="0">Seçiniz...</option>
                            <option value="kucuk">Küçük Boy (Tünel) - 200 m² (80k TL)</option>
                            <option value="orta">Orta Boy (Plastik) - 500 m² (150k TL)</option>
                            <option value="buyuk">Büyük Boy (Cam) - 1.000 m² (400k TL)</option>
                        </select>
                        <br><br>
                        <label>Üretilecek Ürün:</label>
                        <select id="yatirim-urun" style="width:100%; padding:8px; margin-top:5px;"></select>
                    </div>
                    <button onclick="analizYatirim()" style="width:100%; padding:10px; background:#2196f3; color:white; border:none; cursor:pointer; font-weight:bold; border-radius:4px;">YATIRIMI ANALİZ ET</button>
                    <div id="yatirim-sonuc" style="margin-top:15px; padding:10px; background:#e3f2fd; border-left:4px solid #2196f3; display:none; font-size:14px;"></div>
                </div>
            </div>

            <div class="card" style="margin-top:20px; border-left:5px solid #1976d2;">
                <h3><i class="fas fa-balance-scale"></i> Senaryo Karşılaştırma Analizi</h3>
                <p style="font-size:13px; color:#666;">İki farklı sera ve ürün kombinasyonunu yan yana koyup karlılıklarını kıyaslayın.</p>
                
                <div style="display:flex; gap:20px; flex-wrap:wrap;">
                    <div style="flex:1; background:#e3f2fd; padding:15px; border-radius:8px;">
                        <strong style="color:#1565c0;">SENARYO A</strong>
                        <div style="margin-top:10px;">
                            <label>Sera Seçimi:</label>
                            <select id="comp-sera-a" style="width:100%; padding:5px; margin-bottom:10px;"></select>
                            <label>Ürün Seçimi:</label>
                            <select id="comp-urun-a" style="width:100%; padding:5px;"></select>
                        </div>
                    </div>

                    <div style="flex:1; background:#e3f2fd; padding:15px; border-radius:8px;">
                        <strong style="color:#1565c0;">SENARYO B</strong>
                        <div style="margin-top:10px;">
                            <label>Sera Seçimi:</label>
                            <select id="comp-sera-b" style="width:100%; padding:5px; margin-bottom:10px;"></select>
                            <label>Ürün Seçimi:</label>
                            <select id="comp-urun-b" style="width:100%; padding:5px;"></select>
                        </div>
                    </div>
                </div>

                <button onclick="analizKarsilastir()" style="width:100%; margin-top:15px; padding:12px; background:#1976d2; color:white; border:none; border-radius:5px; font-weight:bold; cursor:pointer;">
                    <i class="fas fa-exchange-alt"></i> KIYASLA
                </button>

                <div id="comp-sonuc" style="display:none; margin-top:20px; padding:15px; border-top:1px solid #ddd;"></div>
            </div>

            <div class="info-card" style="border-top: 5px solid #d32f2f; margin-top: 20px;">
                <h3><i class="fas fa-fire-extinguisher"></i> Gelişmiş Maliyet Simülasyonu</h3>
                <p style="font-size:13px; color:#666;">Farklı kalemlerdeki fiyat artışlarının karlılığa etkisi.</p>
                
                <div style="padding:10px 0;">
                    <div style="margin-bottom:10px;">
                        <label style="font-size:12px; font-weight:bold; color:#555;">Gübre & İlaç Zammı: %<span id="val-gubre">0</span></label>
                        <input type="range" id="slider-gubre" min="0" max="100" value="0" step="5" style="width:100%; height:5px;" oninput="analizStres()">
                    </div>
                    <div style="margin-bottom:10px;">
                        <label style="font-size:12px; font-weight:bold; color:#555;">İşçilik Zammı: %<span id="val-iscilik">0</span></label>
                        <input type="range" id="slider-iscilik" min="0" max="100" value="0" step="5" style="width:100%; height:5px;" oninput="analizStres()">
                    </div>
                    <div style="margin-bottom:10px;">
                        <label style="font-size:12px; font-weight:bold; color:#555;">Enerji Zammı: %<span id="val-enerji">0</span></label>
                        <input type="range" id="slider-enerji" min="0" max="100" value="0" step="5" style="width:100%; height:5px;" oninput="analizStres()">
                    </div>
                    <div style="margin-bottom:10px;">
                        <label style="font-size:12px; font-weight:bold; color:#555;">Lojistik Zammı: %<span id="val-lojistik">0</span></label>
                        <input type="range" id="slider-lojistik" min="0" max="100" value="0" step="5" style="width:100%; height:5px;" oninput="analizStres()">
                    </div>
                </div>

                <div id="stres-sonuc" style="background:#ffebee; padding:15px; border-radius:8px; text-align:center; border:1px solid #ffcdd2;">
                    <span style="font-size:13px; color:#555;">Mevcut Şartlarda Tahmini Kar</span><br>
                    <strong style="font-size:20px; color:#333;" id="normal-kar">₺0</strong>
                    <hr style="border:0; border-top:1px solid #ffcdd2; margin:10px 0;">
                    <span style="font-size:13px; color:#d32f2f; font-weight:bold;">Simülasyon Sonucu Kar</span><br>
                    <strong style="font-size:26px; color:#d32f2f;" id="stresli-kar">₺0</strong>
                    <div id="kar-degisim" style="font-size:12px; color:#d32f2f; margin-top:5px;"></div>
                </div>
            </div>

        </div> 

<div id="sayfa-depo" class="sayfa" style="display: none;">
    <div class="header">
        <h1><i class="fas fa-warehouse"></i> Depo & Satış Karar Destek Ekranı</h1>
        <p>Geçmiş verilerin ortalamalarına göre gelecek üretim planlama önerileri.</p>
    </div>

<div class="info-card" style="margin-top:20px;">
    <table id="tablo-strateji" style="width:100%; border-collapse: collapse;">
        <thead style="background:#2c3e50; color:white;">
            <tr>
                <th style="padding:15px; text-align:left;">Ürün Adı</th>
                <th style="text-align:center;">Ortalama Üretim Miktarı</th>
                <th style="text-align:center;">Ortalama Ürüne Gelen Talep</th>
                <th style="text-align:left;">Gelecek Üretim İçin Öneri</th>
            </tr>
        </thead>
        <tbody id="strateji-body">
            </tbody>
    </table>
</div>>
    
    <div class="info-card" style="margin-top:20px;">
         <h3><i class="fas fa-chart-line"></i> Yıllara Göre Talep Değişimi</h3>
         <div style="height:300px;">
            <canvas id="chartDepoAnaliz"></canvas>
        </div>
    </div>
</div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>